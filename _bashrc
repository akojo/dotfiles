# vim: ft=sh
#
# ~/.bashrc
#

# Load RVM into a shell session *as a function*
[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# Search for signs of a version control system in current directory and its
# parents and print some useful information if such is found
vc_prompt () {
    dir=`pwd`
    while [ "$dir" != / ]; do
        if [ -d "$dir/.hg" ]; then
            version=`hg id -b`
            printf " [$version]"
        fi
        if [ -d "$dir/.git" ]; then
            version=`git branch | awk '/^\*/ { print $2 }'`
            printf " [$version]"
        fi
        dir=`dirname "$dir"`
    done
}

which brew >/dev/null && if [ -r `brew --prefix`/etc/bash_completion ]; then
  source `brew --prefix`/etc/bash_completion
fi

[ -r /etc/bash_completion.d/git ] && source /etc/bash_completion.d/git

# An improved cd to subdir
a() {
  dir=`qf -d "$@" | sed 1q`
  echo "$dir"
  cd "$dir"
}

f() {
  qf -f "$@"
}

# Make history even more usable
export HISTCONTROL=erasedups
export HISTSIZE=5000

# Modify the prompt to print version control information
export PS1='\W$(__git_ps1)\$ '

# Dark blue directories don't work on black background
export LSCOLORS='Exfxcxdxbxegedabagacad'

export PATH=$PATH:~/bin

export PATH=/usr/local/bin:/usr/local/sbin:$PATH
export LIBRARY_PATH=/usr/local/lib:$LIBRARY_PATH

# Some useful default programs
export BROWSER=chromium
export EDITOR=vim

# Use utf-8 everywhere
export LC_ALL=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8

# Point tools to android SDKs
export PATH=$PATH:~/lib/android-sdk-macosx/tools:~/lib/android-sdk-macosx/platform-tools:~/lib/android-ndk-r8e

export ANDROID_SDK=~/lib/android-sdk-macosx
export ANDROID_NDK=~/lib/android-ndk-r8e

# Tizen SDK
export PATH=$PATH:~/tizen-sdk/tools/ide/bin

# Enable some useful aliases
alias grep='grep --color=auto'
alias ll='ls -lFG'
alias gcal='gcal -K -s1 --iso-week-number=yes'
alias mannerheim='ssh ssh.reaktor.fi'
alias paasikivi='mosh paasikivi.reaktor.fi'

if [ -f ~/.bash_aliases ]; then
    . ~/.bash_aliases
fi

eval `opam config -env`

# Make OCaml REPL usable
alias ocaml='ledit -h ~/.ocaml_history -x -u ocaml'

PATH=$PATH:$HOME/.rvm/bin # Add RVM to PATH for scripting
## Tizen SDK configuration
# This is generated by Tizen SDK. Please do not modify by yourself.
# Set sdb environment path
export PATH=$PATH:/Users/akojo/tizen-sdk/tools
## End Tizen SDK configuration

if [ -f $HOME/.bashrc.local ]; then
  . $HOME/.bashrc.local
fi
